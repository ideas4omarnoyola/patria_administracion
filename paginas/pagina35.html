<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página 35</title>

    <!-- Estilos -->
    <link rel="stylesheet" href="../css/estilos.css">

    <!-- Librerias -->
    <script src="../js/librerias/jquery.min.js"></script>
    <script src="../js/librerias/gsap.min.js"></script>

    <!-- Script de animaciones -->
    <script src="../js/animaciones.js"></script>
    <!-- Scripts posicionar elementos -->
    <script src="../js/redimensionarElementos.js"></script>
    <script src="../js/posicionar.js"></script>

</head>
<body class="pagina">

    <img class="elementos" id="titulo" src="../img/pagina35/titulo.png" data-posX="0" data-posY="0"/>
    <img class="elementos" id="fondo" src="../img/pagina35/fondo.png" data-posX="0" data-posY="0"/>

    <img class="elementos" id="pantalla1" src="../img/pagina35/pantalla1.png" data-posX="0" data-posY="0"/>
    <img class="elementos" id="pantalla2" src="../img/pagina35/pantalla2.png" data-posX="0" data-posY="0"/>
    <img class="elementos" id="pantalla3" src="../img/pagina35/pantalla3.png" data-posX="0" data-posY="0"/>
    
    <!-- Pregunta 1 -->
    <img class="elementos r1 set1" id="v1" src="../img/pagina35/verdadero.png" data-posX="280" data-posY="209"/>
    <img class="elementos r1 set1" id="f1" src="../img/pagina35/falso.png" data-posX="280" data-posY="237"/>
    <img class="elementos rSet1" id="paloma1" src="../img/pagina35/paloma.png" data-posX="455" data-posY="211"/>
    <img class="elementos rSet1" id="tache1" src="../img/pagina35/tache.png" data-posX="455" data-posY="237"/>
    
    <!-- Pregunta 2 -->
    <img class="elementos r2 set1" id="v2" src="../img/pagina35/verdadero.png" data-posX="280" data-posY="355"/>
    <img class="elementos r2 set1" id="f2" src="../img/pagina35/falso.png" data-posX="280" data-posY="383"/>
    <img class="elementos rSet1" id="paloma2" src="../img/pagina35/paloma.png" data-posX="455" data-posY="381"/>
    <img class="elementos rSet1" id="tache2" src="../img/pagina35/tache.png" data-posX="455" data-posY="353"/>
    
    <!-- Pregunta 3 -->
    <img class="elementos r3 set1" id="v3" src="../img/pagina35/verdadero.png" data-posX="280" data-posY="496"/>
    <img class="elementos r3 set1" id="f3" src="../img/pagina35/falso.png" data-posX="280" data-posY="524"/>
    <img class="elementos rSet1" id="paloma3" src="../img/pagina35/paloma.png" data-posX="455" data-posY="499"/>
    <img class="elementos rSet1" id="tache3" src="../img/pagina35/tache.png" data-posX="455" data-posY="526"/>
    
    <!-- Pregunta 4 -->
    <img class="elementos r4 set2" id="v4" src="../img/pagina35/verdadero.png" data-posX="280" data-posY="209"/>
    <img class="elementos r4 set2" id="f4" src="../img/pagina35/falso.png" data-posX="280" data-posY="237"/>
    <img class="elementos rSet2" id="paloma4" src="../img/pagina35/paloma.png" data-posX="455" data-posY="211"/>
    <img class="elementos rSet2" id="tache4" src="../img/pagina35/tache.png" data-posX="455" data-posY="237"/>
    
    <!-- Pregunta 5 -->
    <img class="elementos r5 set2" id="v5" src="../img/pagina35/verdadero.png" data-posX="280" data-posY="355"/>
    <img class="elementos r5 set2" id="f5" src="../img/pagina35/falso.png" data-posX="280" data-posY="383"/>
    <img class="elementos rSet2" id="paloma5" src="../img/pagina35/paloma.png" data-posX="455" data-posY="381"/>
    <img class="elementos rSet2" id="tache5" src="../img/pagina35/tache.png" data-posX="455" data-posY="353"/>
    
    <!-- Pregunta 6 -->
    <img class="elementos r6 set2" id="v6" src="../img/pagina35/verdadero.png" data-posX="280" data-posY="496"/>
    <img class="elementos r6 set2" id="f6" src="../img/pagina35/falso.png" data-posX="280" data-posY="524"/>
    <img class="elementos rSet2" id="paloma6" src="../img/pagina35/paloma.png" data-posX="455" data-posY="499"/>
    <img class="elementos rSet2" id="tache6" src="../img/pagina35/tache.png" data-posX="455" data-posY="526"/>
    
    <!-- Pregunta 7 -->
    <img class="elementos r7 set3" id="v7" src="../img/pagina35/verdadero.png" data-posX="730" data-posY="119"/>
    <img class="elementos r7 set3" id="f7" src="../img/pagina35/falso.png" data-posX="730" data-posY="147"/>
    <img class="elementos rSet3" id="paloma7" src="../img/pagina35/paloma.png" data-posX="967" data-posY="147"/>
    <img class="elementos rSet3" id="tache7" src="../img/pagina35/tache.png" data-posX="967" data-posY="119"/>
    
    <!-- Pregunta 8 -->
    <img class="elementos r8 set3" id="v8" src="../img/pagina35/verdadero.png" data-posX="730" data-posY="243"/>
    <img class="elementos r8 set3" id="f8" src="../img/pagina35/falso.png" data-posX="730" data-posY="271"/>
    <img class="elementos rSet3" id="paloma8" src="../img/pagina35/paloma.png" data-posX="967" data-posY="243"/>
    <img class="elementos rSet3" id="tache8" src="../img/pagina35/tache.png" data-posX="967" data-posY="271"/>
    
    <!-- Pregunta 9 -->
    <img class="elementos r9 set3" id="v9" src="../img/pagina35/verdadero.png" data-posX="730" data-posY="368"/>
    <img class="elementos r9 set3" id="f9" src="../img/pagina35/falso.png" data-posX="730" data-posY="396"/>
    <img class="elementos rSet3" id="paloma9" src="../img/pagina35/paloma.png" data-posX="967" data-posY="396"/>
    <img class="elementos rSet3" id="tache9" src="../img/pagina35/tache.png" data-posX="967" data-posY="368"/>
    
    <!-- Pregunta 10 -->
    <img class="elementos r10 set3" id="v10" src="../img/pagina35/verdadero.png" data-posX="730" data-posY="480"/>
    <img class="elementos r10 set3" id="f10" src="../img/pagina35/falso.png" data-posX="730" data-posY="508"/>
    <img class="elementos rSet3" id="paloma10" src="../img/pagina35/paloma.png" data-posX="967" data-posY="480"/>
    <img class="elementos rSet3" id="tache10" src="../img/pagina35/tache.png" data-posX="967" data-posY="508"/>

    <!-- Positiva -->
    <img class="elementos" id="positiva" src="../img/pagina35/retroBuena.png" data-posX="0" data-posY="0" alt="">

    <!-- Negativa -->
    <img class="elementos" id="negativa" src="../img/pagina35/retroMala.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="btnReintentar" src="../img/pagina35/btnReintentar.png" data-posX="428" data-posY="493" alt="">

    <!-- Final -->
    <img class="elementos" id="final" src="../img/pagina35/retroFinal.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="btnReiniciar" src="../img/pagina35/btnReiniciar.png" data-posX="524" data-posY="448" alt="">

    <p class="elementos" id="promedio"></p>
    
    <!-- Script de la página -->
    <script>

        // Variable----------------------------------------------------
        let aplicacion = parent;
        const titulo = $('#titulo');
        const fondo = $('#fondo');
        const pantalla1 = $('#pantalla1');
        const pantalla2 = $('#pantalla2');
        const pantalla3 = $('#pantalla3');
        const v1 = $('#v1');
        const v2 = $('#v2');
        const v3 = $('#v3');
        const v4 = $('#v4');
        const v5 = $('#v5');
        const v6 = $('#v6');
        const v7 = $('#v7');
        const v8 = $('#v8');
        const v9 = $('#v9');
        const v10 = $('#v10');
        const f1 = $('#f1');
        const f2 = $('#f2');
        const f3 = $('#f3');
        const f4 = $('#f4');
        const f5 = $('#f5');
        const f6 = $('#f6');
        const f7 = $('#f7');
        const f8 = $('#f8');
        const f9 = $('#f9');
        const f10 = $('#f10');
        const paloma1 = $('#paloma1');
        const paloma2 = $('#paloma2');
        const paloma3 = $('#paloma3');
        const paloma4 = $('#paloma4');
        const paloma5 = $('#paloma5');
        const paloma6 = $('#paloma6');
        const paloma7 = $('#paloma7');
        const paloma8 = $('#paloma8');
        const paloma9 = $('#paloma9');
        const paloma10 = $('#paloma10');
        const tache1 = $('#tache1');
        const tache2 = $('#tache2');
        const tache3 = $('#tache3');
        const tache4 = $('#tache4');
        const tache5 = $('#tache5');
        const tache6 = $('#tache6');
        const tache7 = $('#tache7');
        const tache8 = $('#tache8');
        const tache9 = $('#tache9');
        const tache10 = $('#tache10');

        const set1 = $('.set1');
        const set2 = $('.set2');
        const set3 = $('.set3');

        const r1 = $('.r1');
        const r2 = $('.r2');
        const r3 = $('.r3');
        const r4 = $('.r4');
        const r5 = $('.r5');
        const r6 = $('.r6');
        const r7 = $('.r7');
        const r8 = $('.r8');
        const r9 = $('.r9');
        const r10 = $('.r10');

        const rSet1 = $('.rSet1');
        const rSet2 = $('.rSet2');
        const rSet3 = $('.rSet3');

        const positiva = $('#positiva');

        const negativa = $('#negativa');
        const btnReintentar = $('#btnReintentar');

        const final = $('#final');
        const btnReiniciar = $('#btnReiniciar');
        const promedio = $('#promedio');

        set1.css('cursor', 'pointer');
        set2.css('cursor', 'pointer');
        set3.css('cursor', 'pointer');

        let aciertos = 0;
        let contestadas = 0;

        // Audios------------------------------------------------------
        const audio = [
            new Audio('../audios/audio0.mp3'),
            new Audio('../audios/audio0.mp3'),
            new Audio('../audios/audio0.mp3'),
            new Audio('../audios/s_bien.mp3'),
            new Audio('../audios/s_mal.mp3'),
        ]

        // Al cargarse la página
        $(window).on("load", function(){
            redimensionarElementos();
            aplicacion.cargando(iniciarContenido);
        });

        function iniciarContenido(){
            animacionEntrada(titulo, 'default', 1, 1);
            animacionEntrada(fondo, 'default', 1, 1);
            verPantalla1();
        }

        function verPantalla1(){
            animacionEntrada(pantalla1, 'default', 1, 1);
            animacionEntrada(set1, 'default', 1, 1);
        }

        function verPantalla2(){
            animacionEntrada(pantalla2, 'default', 1, 2);
            animacionEntrada(set2, 'default', 1, 2);
        }

        function verPantalla3(){
            animacionEntrada(pantalla3, 'default', 1, 2);
            animacionEntrada(set3, 'default', 1, 2);
        }

        function verificar() {
            contestadas++;  
            if(contestadas == 3){
                animacionSalida(pantalla1, 'default', 1, 1);
                animacionSalida(set1, 'default', 1, 1);
                animacionSalida(rSet1, 'default', 1, 1);
                verPantalla2();
            }
            if(contestadas == 6){
                animacionSalida(pantalla2, 'default', 1, 1);
                animacionSalida(set2, 'default', 1, 1);
                animacionSalida(rSet2, 'default', 1, 1);
                verPantalla3();
            }
            if(contestadas == 10){
                animacionSalida(pantalla3, 'default', 1, 4);
                animacionSalida(set3, 'default', 1, 4);
                animacionSalida(rSet3, 'default', 1, 4);
                evaluar();
            }
        }

        v1.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(paloma1, 'default', 1);
                r1.css('cursor', 'default');
                audio[3].play();
                aciertos++;
                verificar();
            }
        });

        f1.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(tache1, 'default', 1);
                r1.css('cursor', 'default');
                audio[4].play();
                verificar();
            }
        });

        v2.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(tache2, 'default', 1);
                r2.css('cursor', 'default');
                audio[4].play();
                verificar();
            }
        });

        f2.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(paloma2, 'default', 1);
                r2.css('cursor', 'default');
                audio[3].play();
                aciertos++;
                verificar();
            }
        });
        
        v3.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(paloma3, 'default', 1);
                r3.css('cursor', 'default');
                audio[3].play();
                aciertos++;
                verificar();
            }
        });

        f3.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(tache3, 'default', 1);
                r3.css('cursor', 'default');
                audio[4].play();
                verificar();
            }
        });

        v4.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(paloma4, 'default', 1);
                r4.css('cursor', 'default');
                audio[3].play();
                aciertos++;
                verificar();
            }
        });

        f4.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(tache4, 'default', 1);
                r4.css('cursor', 'default');
                audio[4].play();
                verificar();
            }
        });

        v5.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(tache5, 'default', 1);
                r5.css('cursor', 'default');
                audio[4].play();
                verificar();
            }
        });

        f5.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(paloma5, 'default', 1);
                r5.css('cursor', 'default');
                audio[3].play();
                aciertos++;
                verificar();
            }
        });
        
        v6.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(paloma6, 'default', 1);
                r6.css('cursor', 'default');
                audio[3].play();
                aciertos++;
                verificar();
            }
        });

        f6.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(tache6, 'default', 1);
                r6.css('cursor', 'default');
                audio[4].play();
                verificar();
            }
        });
        
        v7.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(tache7, 'default', 1);
                r7.css('cursor', 'default');
                audio[4].play();
                verificar();
            }
        });

        f7.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(paloma7, 'default', 1);
                r7.css('cursor', 'default');
                audio[3].play();
                aciertos++;
                verificar();
            }
        });

                
        v8.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(paloma8, 'default', 1);
                r8.css('cursor', 'default');
                audio[3].play();
                aciertos++;
                verificar();
            }
        });

        f8.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(tache8, 'default', 1);
                r8.css('cursor', 'default');
                audio[4].play();
                verificar();
            }
        });

        v9.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(tache9, 'default', 1);
                r9.css('cursor', 'default');
                audio[4].play();
                verificar();
            }
        });

        f9.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(paloma9, 'default', 1);
                r9.css('cursor', 'default');
                audio[3].play();
                aciertos++;
                verificar();
            }
        });

        v10.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(paloma10, 'default', 1);
                r10.css('cursor', 'default');
                audio[3].play();
                aciertos++;
                verificar();
            }
        });

        f10.click(function(){
            if($(this).css('cursor') == 'pointer'){
                animacionEntrada(tache10, 'default', 1);
                r10.css('cursor', 'default');
                audio[3].play();
                audio[4].play();
                verificar();
            }
        });

        function evaluar(){
            const calificacion = aciertos * 10;
            const intento = aplicacion.verIntento();

            if(calificacion >= 80 && intento <= 2){
                retroPositiva(calificacion);
            }
            else if(calificacion < 80 && intento == 1){
                aplicacion.siguienteIntento();
                retroNegativa(calificacion);
            }
            else{
                aplicacion.siguienteIntento();
                retroFinal(calificacion);
            } 

            aplicacion.guardarCalificacion(calificacion);
        }

        function retroPositiva(calificacion){
            promedio.html(calificacion);
            promedio.css({
                'fontSize': '32px',
                'color': 'white', 
                'top': '348px',
                'left': '593px'
            });

            animacionEntrada(positiva, 'default', 1, 5);
            animacionEntrada(promedio, 'default', 1, 5);

            aplicacion.terminaPantalla();
        }

        function retroNegativa(calificacion){
            promedio.html(calificacion);
            promedio.css({
                'fontSize': '32px',
                'color': 'white', 
                'top': '220px',
                'left': '612px'
            });
            animacionEntrada(negativa, 'default', 1, 5);
            animacionEntrada(promedio, 'default', 1, 5);
            setTimeout(()=>{
                parpadear(btnReintentar);
            }, 6000);
        }

        btnReintentar.click(function(){
            aplicacion.recargarPagina();
        });

        function retroFinal(calificacion){
            promedio.html(calificacion);
            promedio.css({
                'fontSize': '32px',
                'color': 'white', 
                'top': '248px',
                'left': '603px'
            });
            animacionEntrada(final, 'default', 1, 5);
            animacionEntrada(promedio, 'default', 1, 5);
            setTimeout(()=>{
                parpadear(btnReiniciar);
            }, 6000);
        }

        btnReiniciar.click(function(){
            aplicacion.reiniciarIntentos();
            aplicacion.irPagina(1);
        });

    </script>
</body>
</html>